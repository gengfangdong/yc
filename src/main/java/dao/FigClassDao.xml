<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="dao.FigClassDao">
	<resultMap type="entity.FigClass" id="FigClass">
		<result column="FIGCLASS_ID" jdbcType="VARCHAR" property="FigClass_id"/>
		<result column="FIGCLASS_NAME" jdbcType="VARCHAR" property="FigClass_name"/>
		<result column="FIGCLASS_DEPARMENT" jdbcType="VARCHAR" property="FigClass_deparment"/>
		<result column="FIGCLASS_ADDRESS" jdbcType="VARCHAR" property="FigClass_address"/>
		<result column="FIGCLASS_START_DATE" jdbcType="VARCHAR" property="FigClass_start_date"/>
		<result column="FIGCLASS_END_DATE" jdbcType="VARCHAR" property="FigClass_end_date"/>
		<result column="FIGCLASS_CLASS_START" jdbcType="VARCHAR" property="FigClass_class_start"/>
		<result column="FIGCLASS_CLASS_END" jdbcType="VARCHAR" property="FigClass_class_end"/>
		<result column="FIGCLASS_PERNUM" jdbcType="VARCHAR" property="FigClass_pernum"/>
		<result column="FIGCLASS_PHONE" jdbcType="VARCHAR" property="FigClass_phone"/>
		<result column="FIGCLASS_PERSON" jdbcType="VARCHAR" property="FigClass_person"/>
		<result column="FIGCLASS_STATUS" jdbcType="VARCHAR" property="FigClass_status"/>
		<result column="FIGCLASS_CREATER" jdbcType="VARCHAR" property="FigClass_creater"/>
		<result column="FIGCLASS_CREATETIME" jdbcType="VARCHAR" property="FigClass_createtime"/>
		<result column="FIGCLASS_UPDATER" jdbcType="VARCHAR" property="FigClass_updater"/>
		<result column="FIGCLASS_UPDATETIME" jdbcType="VARCHAR" property="FigClass_updatetime"/>
		<result column="FIGCLASS_ISDELETE" jdbcType="VARCHAR" property="FigClass_isdelete"/>
		<result column="FIGCLASS_NUMSTATUS" jdbcType="VARCHAR" property="FigClass_numstatus"/>
		<result column="FIGCLASS_CAOGERY" jdbcType="VARCHAR" property="FigClass_caogery"/>
		<result column="FIGCLASS_OUTLINE" jdbcType="VARCHAR" property="FigClass_outline"/>
	</resultMap>
	 <insert id="insertFig" parameterType="entity.FigClass">
		insert into FIGCLASS(FIGCLASS_ID,FIGCLASS_NAME,FIGCLASS_DEPARMENT,FIGCLASS_ADDRESS,FIGCLASS_START_DATE,FIGCLASS_END_DATE,FIGCLASS_CLASS_START,
		FIGCLASS_CLASS_END,FIGCLASS_PERNUM,FIGCLASS_PHONE,FIGCLASS_PERSON,FIGCLASS_STATUS,FIGCLASS_CREATER,
		FIGCLASS_CREATETIME,FIGCLASS_UPDATER,FIGCLASS_UPDATETIME,FIGCLASS_ISDELETE,FIGCLASS_NUMSTATUS,FIGCLASS_CAOGERY,FIGCLASS_OUTLINE)
		values(#{FigClass_id},#{FigClass_name},#{FigClass_deparment},#{FigClass_address},
		#{FigClass_start_date},#{FigClass_end_date},#{FigClass_class_start},#{FigClass_class_end},#{FigClass_pernum},
		#{FigClass_phone},#{FigClass_person},#{FigClass_status},#{FigClass_creater},#{FigClass_createtime},
		#{FigClass_updater},#{FigClass_updatetime},#{FigClass_isdelete},#{FigClass_numstatus},#{FigClass_caogery},#{FigClass_outline})
	</insert>
	
	<select id="getDetail" parameterType="String" resultMap="FigClass">
		select * from FIGCLASS f where f.FIGCLASS_ID = #{figClass_id} and f.FIGCLASS_ISDELETE = '0'
	</select>
	
	<!-- <update id="updateReview" parameterType="String">
		update FREE_COSTOM
		　　set FREECO_STATUS = #{status},
			   Freeco_UPDATER = #{updater},
				Freeco_UPDATETIME = #{updatetime}
		where FREECO_ID=#{Constom_id} and Freeco_ISDELETE = '0'
	</update> -->
	
	<select id="getListBypage" resultMap="FigClass">
		SELECT * FROM  
		(  
			SELECT A.*, ROWNUM RN  
			FROM (select * from FIGCLASS F
			where F.FIGCLASS_ISDELETE = '0'
			<if test="caogery != null and caogery != '' ">
				and F.FIGCLASS_STATUS = #{caogery}
			</if>
			<if test="status != null and status != '' ">
				and F.FIGCLASS_NUMSTATUS = #{status}
			</if>
			) A
			WHERE ROWNUM &lt;= #{length}
		)  
		WHERE RN &gt; #{start} 
	</select>
	
	<select id="getListCount" resultType="int">
		select count(*) from FIGCLASS F
			where F.FIGCLASS_ISDELETE = '0' 
			<if test="caogery != null and caogery != '' ">
				and F.FIGCLASS_STATUS = #{caogery}
			</if>
			<if test="status != null and status != '' ">
				and F.FIGCLASS_NUMSTATUS = #{status}
			</if>
	</select>
	<select id="getFigbyidanduser" parameterType="String">
		select * from FIGCLASS F where F.FIGCLASS_ISDELETE = '0' AND F.FIGCLASS_ID = #{figClass_id} AND F.FIGCLASS_CREATER = #{User_id} AND F.FIGCLASS_NUMSTATUS = '1'
	</select>
	<!-- <update id="deleteConstom" parameterType="String">
		UPDATE FREE_COSTOM F
			SET F.Freeco_ISDELETE = '1',
				F.Freeco_UPDATER = #{updater},
				F.Freeco_UPDATETIME = #{updatetime}
				WHERE F.FREECO_ID=#{Constom_id} and F.Freeco_ISDELETE = '0'
	</update> -->
</mapper>